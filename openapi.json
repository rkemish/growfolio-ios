{
  "openapi": "3.1.0",
  "info": {
    "title": "Growfolio API",
    "description": "DCA Investment Platform Backend API",
    "version": "0.1.0"
  },
  "paths": {
    "/health": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Health Check",
        "description": "Basic health check endpoint.\n\nReturns:\n    dict: Health status",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Health Check Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/health/ready": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Readiness Check",
        "description": "Readiness check - verifies all dependencies are available.\n\nReturns:\n    dict: Readiness status with dependency states",
        "operationId": "readiness_check_health_ready_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Readiness Check Health Ready Get"
                }
              }
            }
          }
        }
      }
    },
    "/health/live": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Liveness Check",
        "description": "Liveness check - indicates the service is running.\n\nReturns:\n    dict: Liveness status",
        "operationId": "liveness_check_health_live_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Liveness Check Health Live Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/token/v2": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Exchange Token V2",
        "description": "Exchange identity token for user session (multi-provider).\n\nSupports both Apple Sign In and Google Sign In. Automatically links\naccounts when a verified email matches an existing user.\n\nFlow:\n1. Validate token with the appropriate provider service\n2. Look for existing user by provider-specific ID\n3. If not found, check for email match (auto-link if verified)\n4. Create new user if no match found",
        "operationId": "exchange_token_v2_api_v1_auth_token_v2_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UnifiedTokenRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnifiedTokenResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/token": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Exchange Token",
        "description": "Exchange Apple identity token for user session.\n\nThis endpoint validates the Apple identity token and returns user information.\nIf the user doesn't exist, a new user record is created.\n\nIMPORTANT: Apple only provides the user's name on the FIRST sign-in.\nThe iOS client must capture `fullName` from ASAuthorizationAppleIDCredential\nand send it in this request. On subsequent sign-ins, the name fields will\nbe None and should not overwrite existing data.",
        "operationId": "exchange_token_api_v1_auth_token_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AppleTokenRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "deprecated": true
      }
    },
    "/api/v1/auth/me": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Get Current User Info",
        "description": "Get current authenticated user info.",
        "operationId": "get_current_user_info_api_v1_auth_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Get Current User Info Api V1 Auth Me Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/auth/logout": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Logout",
        "description": "Logout user.\n\nServer-side logout (clear any server-side sessions).\nClient should also clear local tokens and revoke Apple credential if needed.",
        "operationId": "logout_api_v1_auth_logout_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Logout Api V1 Auth Logout Post"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/users/me": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get Current User",
        "description": "Get current user profile.",
        "operationId": "get_current_user_api_v1_users_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "put": {
        "tags": [
          "Users"
        ],
        "summary": "Update Current User",
        "description": "Update current user profile.",
        "operationId": "update_current_user_api_v1_users_me_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Users"
        ],
        "summary": "Delete Account",
        "description": "Delete user account.\n\nThis will:\n- Mark user as inactive\n- Cancel all DCA schedules\n- Note: Does not delete brokerage account (must be done separately)",
        "operationId": "delete_account_api_v1_users_me_delete",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Delete Account Api V1 Users Me Delete"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/users/me/preferences": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get Preferences",
        "description": "Get user preferences.",
        "operationId": "get_preferences_api_v1_users_me_preferences_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPreferences"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "put": {
        "tags": [
          "Users"
        ],
        "summary": "Update Preferences",
        "description": "Update user preferences.",
        "operationId": "update_preferences_api_v1_users_me_preferences_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserPreferences"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPreferences"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/users/me/device-token": {
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Register Device Token",
        "description": "Register APNs device token for push notifications.",
        "operationId": "register_device_token_api_v1_users_me_device_token_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Register Device Token Api V1 Users Me Device Token Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Users"
        ],
        "summary": "Remove Device Token",
        "description": "Remove APNs device token.",
        "operationId": "remove_device_token_api_v1_users_me_device_token_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Remove Device Token Api V1 Users Me Device Token Delete"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me/accounts": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get Brokerage Accounts",
        "description": "Get user's linked brokerage accounts.",
        "operationId": "get_brokerage_accounts_api_v1_users_me_accounts_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Get Brokerage Accounts Api V1 Users Me Accounts Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/users/account/configurations": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get Account Configurations",
        "description": "Get trading account configurations.\n\nReturns account settings like fractional trading, margin settings, etc.",
        "operationId": "get_account_configurations_api_v1_users_account_configurations_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccountConfiguration"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Users"
        ],
        "summary": "Update Account Configurations",
        "description": "Update trading account configurations.\n\nAllows updating settings like fractional trading, trade confirmation emails, etc.",
        "operationId": "update_account_configurations_api_v1_users_account_configurations_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateAccountConfigRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccountConfiguration"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/baskets": {
      "get": {
        "tags": [
          "Baskets"
        ],
        "summary": "List Baskets",
        "description": "List all baskets for the current user.",
        "operationId": "list_baskets_api_v1_baskets_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/BasketStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "name": "include_shared",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Include Shared"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BasketResponse"
                  },
                  "title": "Response List Baskets Api V1 Baskets Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Baskets"
        ],
        "summary": "Create Basket",
        "description": "Create a new investment basket.",
        "operationId": "create_basket_api_v1_baskets_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BasketCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BasketResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/baskets/{basket_id}": {
      "get": {
        "tags": [
          "Baskets"
        ],
        "summary": "Get Basket",
        "description": "Get a specific basket.",
        "operationId": "get_basket_api_v1_baskets__basket_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "basket_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Basket Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BasketResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Baskets"
        ],
        "summary": "Update Basket",
        "description": "Update a basket.",
        "operationId": "update_basket_api_v1_baskets__basket_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "basket_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Basket Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BasketUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BasketResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Baskets"
        ],
        "summary": "Delete Basket",
        "description": "Delete a basket.",
        "operationId": "delete_basket_api_v1_baskets__basket_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "basket_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Basket Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Delete Basket Api V1 Baskets  Basket Id  Delete"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/baskets/{basket_id}/pause": {
      "post": {
        "tags": [
          "Baskets"
        ],
        "summary": "Pause Basket",
        "description": "Pause a basket and its DCA schedule.",
        "operationId": "pause_basket_api_v1_baskets__basket_id__pause_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "basket_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Basket Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BasketResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/baskets/{basket_id}/resume": {
      "post": {
        "tags": [
          "Baskets"
        ],
        "summary": "Resume Basket",
        "description": "Resume a paused basket.",
        "operationId": "resume_basket_api_v1_baskets__basket_id__resume_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "basket_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Basket Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BasketResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/dca/schedules": {
      "get": {
        "tags": [
          "DCA Schedules"
        ],
        "summary": "List Schedules",
        "description": "List all DCA schedules for the current user.",
        "operationId": "list_schedules_api_v1_dca_schedules_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/DCAStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DCAScheduleResponse"
                  },
                  "title": "Response List Schedules Api V1 Dca Schedules Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "DCA Schedules"
        ],
        "summary": "Create Schedule",
        "description": "Create a new DCA schedule.",
        "operationId": "create_schedule_api_v1_dca_schedules_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DCAScheduleCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DCAScheduleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/dca/schedules/{schedule_id}": {
      "put": {
        "tags": [
          "DCA Schedules"
        ],
        "summary": "Update Schedule",
        "description": "Update a DCA schedule.",
        "operationId": "update_schedule_api_v1_dca_schedules__schedule_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "schedule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Schedule Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DCAScheduleUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DCAScheduleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "DCA Schedules"
        ],
        "summary": "Delete Schedule",
        "description": "Delete (cancel) a DCA schedule.",
        "operationId": "delete_schedule_api_v1_dca_schedules__schedule_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "schedule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Schedule Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Delete Schedule Api V1 Dca Schedules  Schedule Id  Delete"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/dca/schedules/{schedule_id}/pause": {
      "post": {
        "tags": [
          "DCA Schedules"
        ],
        "summary": "Pause Schedule",
        "description": "Pause a DCA schedule.",
        "operationId": "pause_schedule_api_v1_dca_schedules__schedule_id__pause_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "schedule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Schedule Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DCAScheduleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/dca/schedules/{schedule_id}/resume": {
      "post": {
        "tags": [
          "DCA Schedules"
        ],
        "summary": "Resume Schedule",
        "description": "Resume a paused DCA schedule.",
        "operationId": "resume_schedule_api_v1_dca_schedules__schedule_id__resume_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "schedule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Schedule Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DCAScheduleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/dca/schedules/{schedule_id}/history": {
      "get": {
        "tags": [
          "DCA Schedules"
        ],
        "summary": "Get Schedule History",
        "description": "Get execution history for a DCA schedule.",
        "operationId": "get_schedule_history_api_v1_dca_schedules__schedule_id__history_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "schedule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Schedule Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 10,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Schedule History Api V1 Dca Schedules  Schedule Id  History Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/stocks/search": {
      "get": {
        "tags": [
          "Stocks"
        ],
        "summary": "Search Stocks",
        "description": "Search for stocks by name or symbol.\n\nReturns matching US equities from Alpaca.",
        "operationId": "search_stocks_api_v1_stocks_search_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 50,
              "description": "Search query",
              "title": "Q"
            },
            "description": "Search query"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StockSearchResults"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/stocks/popular": {
      "get": {
        "tags": [
          "Stocks"
        ],
        "summary": "Get Popular Stocks",
        "description": "Get popular stocks for discovery.\n\nReturns commonly invested stocks with current prices.",
        "operationId": "get_popular_stocks_api_v1_stocks_popular_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "default": 10,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Popular Stocks Api V1 Stocks Popular Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/stocks/market/status": {
      "get": {
        "tags": [
          "Stocks"
        ],
        "summary": "Get Market Status",
        "description": "Get current market status (open/closed).",
        "operationId": "get_market_status_api_v1_stocks_market_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MarketStatus"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/stocks/market/calendar": {
      "get": {
        "tags": [
          "Stocks"
        ],
        "summary": "Get Market Calendar",
        "description": "Get market calendar (trading days and hours).\n\nReturns list of trading days with market open/close times.\nUseful for determining when orders can be executed.",
        "operationId": "get_market_calendar_api_v1_stocks_market_calendar_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "start",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start date for calendar range (YYYY-MM-DD)",
              "title": "Start"
            },
            "description": "Start date for calendar range (YYYY-MM-DD)"
          },
          {
            "name": "end",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End date for calendar range (YYYY-MM-DD)",
              "title": "End"
            },
            "description": "End date for calendar range (YYYY-MM-DD)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CalendarDay"
                  },
                  "title": "Response Get Market Calendar Api V1 Stocks Market Calendar Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/stocks/{symbol}": {
      "get": {
        "tags": [
          "Stocks"
        ],
        "summary": "Get Stock",
        "description": "Get detailed information about a stock.",
        "operationId": "get_stock_api_v1_stocks__symbol__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "symbol",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Symbol"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Stock"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/family": {
      "get": {
        "tags": [
          "Family"
        ],
        "summary": "Get Family",
        "description": "Get the user's family group.",
        "operationId": "get_family_api_v1_family_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/Family"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "title": "Response Get Family Api V1 Family Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "put": {
        "tags": [
          "Family"
        ],
        "summary": "Update Family",
        "description": "Update family settings (admin only).",
        "operationId": "update_family_api_v1_family_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FamilyUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Family"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "Family"
        ],
        "summary": "Create Family",
        "description": "Create a new family group.",
        "operationId": "create_family_api_v1_family_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FamilyCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Family"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/family/invite": {
      "post": {
        "tags": [
          "Family"
        ],
        "summary": "Invite Member",
        "description": "Invite a new member to the family.",
        "operationId": "invite_member_api_v1_family_invite_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FamilyInviteCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FamilyInvite"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/family/invites": {
      "get": {
        "tags": [
          "Family"
        ],
        "summary": "List Invites",
        "description": "List pending invites for the current user.",
        "operationId": "list_invites_api_v1_family_invites_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/FamilyInvite"
                  },
                  "type": "array",
                  "title": "Response List Invites Api V1 Family Invites Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/family/invites/{invite_id}/accept": {
      "post": {
        "tags": [
          "Family"
        ],
        "summary": "Accept Invite",
        "description": "Accept a family invite.",
        "operationId": "accept_invite_api_v1_family_invites__invite_id__accept_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "invite_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Invite Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Family"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/family/invites/{invite_id}/decline": {
      "post": {
        "tags": [
          "Family"
        ],
        "summary": "Decline Invite",
        "description": "Decline a family invite.",
        "operationId": "decline_invite_api_v1_family_invites__invite_id__decline_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "invite_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Invite Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Decline Invite Api V1 Family Invites  Invite Id  Decline Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/family/members/{member_id}": {
      "delete": {
        "tags": [
          "Family"
        ],
        "summary": "Remove Member",
        "description": "Remove a member from the family (admin only).",
        "operationId": "remove_member_api_v1_family_members__member_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "member_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Member Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Remove Member Api V1 Family Members  Member Id  Delete"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/family/leave": {
      "post": {
        "tags": [
          "Family"
        ],
        "summary": "Leave Family",
        "description": "Leave the current family.",
        "operationId": "leave_family_api_v1_family_leave_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Leave Family Api V1 Family Leave Post"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/family/baskets": {
      "get": {
        "tags": [
          "Family"
        ],
        "summary": "Get Family Baskets",
        "description": "Get all shared baskets in the family.",
        "operationId": "get_family_baskets_api_v1_family_baskets_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Get Family Baskets Api V1 Family Baskets Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/ai/chat": {
      "post": {
        "tags": [
          "AI"
        ],
        "summary": "Chat With Ai",
        "description": "Chat with Claude AI about investments.\n\nThe AI has context about your portfolio and baskets.",
        "operationId": "chat_with_ai_api_v1_ai_chat_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/ai/insights": {
      "get": {
        "tags": [
          "AI"
        ],
        "summary": "Get Portfolio Insights",
        "description": "Get AI-generated insights about your portfolio.\n\nReturns analysis, suggestions, and encouragement.",
        "operationId": "get_portfolio_insights_api_v1_ai_insights_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Get Portfolio Insights Api V1 Ai Insights Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/ai/explain/{symbol}": {
      "get": {
        "tags": [
          "AI"
        ],
        "summary": "Explain Stock",
        "description": "Get an AI-generated explanation of a stock.\n\nEducational content about what the company does.",
        "operationId": "explain_stock_api_v1_ai_explain__symbol__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "symbol",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Symbol"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Explain Stock Api V1 Ai Explain  Symbol  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ai/suggest-allocation": {
      "post": {
        "tags": [
          "AI"
        ],
        "summary": "Suggest Allocation",
        "description": "Get AI-suggested portfolio allocation.\n\nEducational sample allocation based on preferences.\nNote: This is not financial advice.",
        "operationId": "suggest_allocation_api_v1_ai_suggest_allocation_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AllocationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Suggest Allocation Api V1 Ai Suggest Allocation Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/ai/tips": {
      "get": {
        "tags": [
          "AI"
        ],
        "summary": "Get Investing Tips",
        "description": "Get contextual investing tips.\n\nReturns relevant tips based on user's situation.",
        "operationId": "get_investing_tips_api_v1_ai_tips_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Get Investing Tips Api V1 Ai Tips Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/funding/deposit": {
      "post": {
        "tags": [
          "Funding"
        ],
        "summary": "Initiate Deposit",
        "description": "Initiate a deposit in USD.\n\nDeposits USD directly to Alpaca account via ACH.",
        "operationId": "initiate_deposit_api_v1_funding_deposit_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DepositRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransferResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/funding/withdraw": {
      "post": {
        "tags": [
          "Funding"
        ],
        "summary": "Initiate Withdrawal",
        "description": "Initiate a withdrawal in USD.\n\nWithdraws USD from Alpaca account via ACH.",
        "operationId": "initiate_withdrawal_api_v1_funding_withdraw_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WithdrawalRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransferResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/funding/history": {
      "get": {
        "tags": [
          "Funding"
        ],
        "summary": "Get Funding History",
        "description": "Get funding history (deposits and withdrawals).",
        "operationId": "get_funding_history_api_v1_funding_history_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "transfer_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "deposit or withdrawal",
              "title": "Transfer Type"
            },
            "description": "deposit or withdrawal"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Funding History Api V1 Funding History Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/funding/instant-deposit": {
      "post": {
        "tags": [
          "Funding"
        ],
        "summary": "Initiate Instant Deposit",
        "description": "Initiate an instant deposit in USD.\n\nFunds are available immediately for trading, with ACH settlement following\nwithin 3-5 business days. Requires a linked bank account (relationship_id).",
        "operationId": "initiate_instant_deposit_api_v1_funding_instant_deposit_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InstantDepositRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstantDepositResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/funding/instant-limits": {
      "get": {
        "tags": [
          "Funding"
        ],
        "summary": "Get Instant Funding Limits",
        "description": "Get instant funding limits for the current user.\n\nReturns daily limits, usage, and remaining available instant funding in USD.",
        "operationId": "get_instant_funding_limits_api_v1_funding_instant_limits_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstantFundingLimitsResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/funding-wallet": {
      "get": {
        "tags": [
          "Funding Wallet"
        ],
        "summary": "Get Funding Wallet",
        "description": "Get the user's funding wallet details.\n\nReturns wallet information including the unique account number\nfor receiving deposits.",
        "operationId": "get_funding_wallet_api_v1_funding_wallet_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FundingWalletResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "Funding Wallet"
        ],
        "summary": "Create Funding Wallet",
        "description": "Create a funding wallet for the user.\n\nCreates a dedicated wallet with unique account number for receiving\ninternational deposits. Once created, cannot be deleted.",
        "operationId": "create_funding_wallet_api_v1_funding_wallet_post",
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FundingWalletResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/funding-wallet/funding-details": {
      "get": {
        "tags": [
          "Funding Wallet"
        ],
        "summary": "Get Funding Details",
        "description": "Get deposit/wire instructions for the funding wallet.\n\nReturns bank details for depositing funds. Supports filtering by currency.\nInstructions vary by payment method (SWIFT vs Local Rails).\n\nSupported SWIFT currencies: AUD, BHD, CAD, CNH, CZK, DKK, EUR, GBP, HKD,\nHUF, ILS, JPY, KES, KWD, MXN, NZD, NOK, OMR, PLN, QAR, RON, SAR, SGD,\nZAR, SEK, CHF, THB, TRY, UGX, AED, USD\n\nSupported Local Rails currencies: AUD, CAD, CZK, DKK, EUR, GBP, HUF,\nNOK, PLN, RON, SEK, CHF, USD",
        "operationId": "get_funding_details_api_v1_funding_wallet_funding_details_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "currency",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by currency (e.g., GBP, EUR)",
              "title": "Currency"
            },
            "description": "Filter by currency (e.g., GBP, EUR)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FundingDetailsResponse"
                  },
                  "title": "Response Get Funding Details Api V1 Funding Wallet Funding Details Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/funding-wallet/transfers": {
      "get": {
        "tags": [
          "Funding Wallet"
        ],
        "summary": "Get Funding Wallet Transfers",
        "description": "Get funding wallet transfer history.\n\nSince funding wallet transfers are NOT sent via SSE, this endpoint\nshould be polled to check for new deposits or withdrawal status updates.\n\nRecommended polling interval: 30-60 seconds when expecting a transfer.",
        "operationId": "get_funding_wallet_transfers_api_v1_funding_wallet_transfers_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Max results",
              "default": 50,
              "title": "Limit"
            },
            "description": "Max results"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FundingWalletTransferResponse"
                  },
                  "title": "Response Get Funding Wallet Transfers Api V1 Funding Wallet Transfers Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/funding-wallet/recipient-bank": {
      "get": {
        "tags": [
          "Funding Wallet"
        ],
        "summary": "Get Recipient Bank",
        "description": "Get configured recipient bank for withdrawals.",
        "operationId": "get_recipient_bank_api_v1_funding_wallet_recipient_bank_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/RecipientBankResponse"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "title": "Response Get Recipient Bank Api V1 Funding Wallet Recipient Bank Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "Funding Wallet"
        ],
        "summary": "Create Recipient Bank",
        "description": "Add a recipient bank for withdrawals.\n\nOnly one recipient bank can be configured at a time.\nDelete existing before adding a new one.",
        "operationId": "create_recipient_bank_api_v1_funding_wallet_recipient_bank_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRecipientBankRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecipientBankResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Funding Wallet"
        ],
        "summary": "Delete Recipient Bank",
        "description": "Remove recipient bank from funding wallet.",
        "operationId": "delete_recipient_bank_api_v1_funding_wallet_recipient_bank_delete",
        "responses": {
          "204": {
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/funding-wallet/withdraw": {
      "post": {
        "tags": [
          "Funding Wallet"
        ],
        "summary": "Initiate Withdrawal",
        "description": "Initiate a withdrawal from funding wallet to recipient bank.\n\nRequires a recipient bank to be configured first.\nAmount is in USD and will be converted to the recipient bank's currency.",
        "operationId": "initiate_withdrawal_api_v1_funding_wallet_withdraw_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FundingWalletWithdrawalRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FundingWalletTransferResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/funding-wallet/sync-deposits": {
      "post": {
        "tags": [
          "Funding Wallet"
        ],
        "summary": "Sync Deposits To Ledger",
        "description": "Sync completed SWIFT/Local Rails deposits to the ledger.\n\nRecords incoming transfers that have completed with their original\ncurrency and amount from Alpaca's FX conversion. Skips transfers\nalready recorded (by alpaca_transfer_id).\n\nCall this endpoint periodically or after receiving a webhook notification.",
        "operationId": "sync_deposits_to_ledger_api_v1_funding_wallet_sync_deposits_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SyncDepositsResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/ledger/transactions": {
      "get": {
        "tags": [
          "Ledger"
        ],
        "summary": "Get Transactions",
        "description": "Get transaction history from the ledger.\n\nSupports filtering by date range, type, symbol, and basket.",
        "operationId": "get_transactions_api_v1_ledger_transactions_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Start Date"
            }
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "End Date"
            }
          },
          {
            "name": "entry_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by entry type",
              "title": "Entry Type"
            },
            "description": "Filter by entry type"
          },
          {
            "name": "symbol",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by stock symbol",
              "title": "Symbol"
            },
            "description": "Filter by stock symbol"
          },
          {
            "name": "basket_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by basket",
              "title": "Basket Id"
            },
            "description": "Filter by basket"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ledger/fx-history": {
      "get": {
        "tags": [
          "Ledger"
        ],
        "summary": "Get Fx History",
        "description": "Get FX transaction history.\n\nShows all GBP/USD conversions with rates and fees.",
        "operationId": "get_fx_history_api_v1_ledger_fx_history_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Start Date"
            }
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "End Date"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Fx History Api V1 Ledger Fx History Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ledger/summary": {
      "get": {
        "tags": [
          "Ledger"
        ],
        "summary": "Get Ledger Summary",
        "description": "Get ledger summary for a period.\n\nAggregates trading activity, deposits, withdrawals, and fees.",
        "operationId": "get_ledger_summary_api_v1_ledger_summary_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Period: 7d, 30d, 90d, 1y, all",
              "default": "30d",
              "title": "Period"
            },
            "description": "Period: 7d, 30d, 90d, 1y, all"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LedgerSummary"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ledger/cost-basis/{symbol}": {
      "get": {
        "tags": [
          "Ledger"
        ],
        "summary": "Get Cost Basis",
        "description": "Get detailed cost basis for a symbol.\n\nShows purchase lots and average cost calculations.",
        "operationId": "get_cost_basis_api_v1_ledger_cost_basis__symbol__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "symbol",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Symbol"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Cost Basis Api V1 Ledger Cost Basis  Symbol  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ledger/dividends": {
      "get": {
        "tags": [
          "Ledger"
        ],
        "summary": "Get Dividend History",
        "description": "Get dividend payment history.\n\nUseful for tax reporting.",
        "operationId": "get_dividend_history_api_v1_ledger_dividends_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "year",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by year",
              "title": "Year"
            },
            "description": "Filter by year"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Dividend History Api V1 Ledger Dividends Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/orders": {
      "post": {
        "tags": [
          "Orders"
        ],
        "summary": "Submit Order",
        "description": "Submit a buy or sell order for a stock.\n\nSupports both notional (dollar amount) and share-based orders.\nFor market orders during market hours, execution is typically immediate.",
        "operationId": "submit_order_api_v1_orders_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SubmitOrderRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/orders/{order_id}": {
      "delete": {
        "tags": [
          "Orders"
        ],
        "summary": "Cancel Order",
        "description": "Cancel a pending order.",
        "operationId": "cancel_order_api_v1_orders__order_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "order_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Order Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Orders"
        ],
        "summary": "Replace Order",
        "description": "Replace/modify an existing order.\n\nOnly certain fields can be modified on an existing order.\nThe order must be in a replaceable state (e.g., not already filled).",
        "operationId": "replace_order_api_v1_orders__order_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "order_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Order Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReplaceOrderRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/documents": {
      "get": {
        "tags": [
          "Documents"
        ],
        "summary": "List Documents",
        "description": "List documents for the current user.\n\nReturns tax statements, trade confirmations, and account statements.\nSupports filtering by date range and document type.",
        "operationId": "list_documents_api_v1_documents_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter documents after this date",
              "title": "Start Date"
            },
            "description": "Filter documents after this date"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter documents before this date",
              "title": "End Date"
            },
            "description": "Filter documents before this date"
          },
          {
            "name": "document_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/DocumentType"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by document type",
              "title": "Document Type"
            },
            "description": "Filter by document type"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/documents/{document_id}/download": {
      "get": {
        "tags": [
          "Documents"
        ],
        "summary": "Download Document",
        "description": "Download a specific document.\n\nReturns the document as a PDF file.",
        "operationId": "download_document_api_v1_documents__document_id__download_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/documents/w8ben": {
      "get": {
        "tags": [
          "Documents"
        ],
        "summary": "Download W8Ben",
        "description": "Download the W-8BEN form.\n\nReturns the W-8BEN tax form as a PDF file.\nThis form is required for international investors.",
        "operationId": "download_w8ben_api_v1_documents_w8ben_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/banks/link-plaid": {
      "post": {
        "tags": [
          "Banks"
        ],
        "summary": "Link Bank Plaid",
        "description": "Link a bank account using a Plaid processor token.\n\nThis endpoint accepts a Plaid processor token obtained from the Plaid Link\nflow in the frontend and creates an ACH relationship in Alpaca.",
        "operationId": "link_bank_plaid_api_v1_banks_link_plaid_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBankPlaidRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BankRelationshipResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/banks/link-manual": {
      "post": {
        "tags": [
          "Banks"
        ],
        "summary": "Link Bank Manual",
        "description": "Link a bank account using routing and account numbers.\n\nThis endpoint creates an ACH relationship using manually provided bank\ndetails. Note that manual linking may require additional verification.",
        "operationId": "link_bank_manual_api_v1_banks_link_manual_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBankManualRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BankRelationshipResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/banks": {
      "get": {
        "tags": [
          "Banks"
        ],
        "summary": "List Banks",
        "description": "List all linked bank accounts.\n\nReturns all ACH relationships for the user's brokerage account.",
        "operationId": "list_banks_api_v1_banks_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/BankRelationshipResponse"
                  },
                  "type": "array",
                  "title": "Response List Banks Api V1 Banks Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/banks/{relationship_id}": {
      "delete": {
        "tags": [
          "Banks"
        ],
        "summary": "Unlink Bank",
        "description": "Unlink a bank account.\n\nRemoves the ACH relationship from the user's brokerage account.\nAny pending transfers using this bank will be canceled.",
        "operationId": "unlink_bank_api_v1_banks__relationship_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "relationship_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Relationship Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/corporate-actions": {
      "get": {
        "tags": [
          "Corporate Actions"
        ],
        "summary": "List Corporate Actions",
        "description": "List corporate actions affecting the user's positions.\n\nThis endpoint:\n1. Gets user's current positions from the ledger\n2. Extracts symbols from those positions\n3. Queries Alpaca for corporate actions affecting those symbols\n4. Returns filtered and paginated results",
        "operationId": "list_corporate_actions_api_v1_corporate_actions_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "ca_types",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated corporate action types: dividend, split, merger, spinoff, rights",
              "title": "Ca Types"
            },
            "description": "Comma-separated corporate action types: dividend, split, merger, spinoff, rights"
          },
          {
            "name": "since",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter actions since this date",
              "title": "Since"
            },
            "description": "Filter actions since this date"
          },
          {
            "name": "until",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter actions until this date",
              "title": "Until"
            },
            "description": "Filter actions until this date"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "Maximum number of results",
              "default": 50,
              "title": "Limit"
            },
            "description": "Maximum number of results"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Offset for pagination",
              "default": 0,
              "title": "Offset"
            },
            "description": "Offset for pagination"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CorporateActionListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/corporate-actions/{announcement_id}": {
      "get": {
        "tags": [
          "Corporate Actions"
        ],
        "summary": "Get Corporate Action",
        "description": "Get details of a specific corporate action announcement.\n\nArgs:\n    announcement_id: The Alpaca announcement ID\n\nReturns:\n    Corporate action details",
        "operationId": "get_corporate_action_api_v1_corporate_actions__announcement_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "announcement_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Announcement Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CorporateActionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/positions/{symbol}": {
      "delete": {
        "tags": [
          "Portfolio"
        ],
        "summary": "Close Position",
        "description": "Close a position (full or partial).\n\nIf neither qty nor percentage is provided, closes the entire position.\nSpecify qty OR percentage for a partial close.",
        "operationId": "close_position_api_v1_positions__symbol__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "symbol",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Symbol"
            }
          },
          {
            "name": "qty",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "exclusiveMinimum": 0.0
                },
                {
                  "type": "string",
                  "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Number of shares to close (for partial close)",
              "title": "Qty"
            },
            "description": "Number of shares to close (for partial close)"
          },
          {
            "name": "percentage",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "maximum": 100.0,
                  "exclusiveMinimum": 0.0
                },
                {
                  "type": "string",
                  "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Percentage of position to close (for partial close)",
              "title": "Percentage"
            },
            "description": "Percentage of position to close (for partial close)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClosePositionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/positions": {
      "delete": {
        "tags": [
          "Portfolio"
        ],
        "summary": "Close All Positions",
        "description": "Close all positions for the current user.\n\nOptionally cancels all open orders before closing positions to avoid\nconflicts with pending orders.",
        "operationId": "close_all_positions_api_v1_positions_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "cancel_orders",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Whether to cancel open orders before closing positions",
              "default": true,
              "title": "Cancel Orders"
            },
            "description": "Whether to cancel open orders before closing positions"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CloseAllPositionsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/positions/history": {
      "get": {
        "tags": [
          "Portfolio"
        ],
        "summary": "Get Portfolio History",
        "description": "Get portfolio value history for charting.\n\nReturns historical portfolio values, profit/loss, and percentages\nover the specified time period with the given resolution.",
        "operationId": "get_portfolio_history_api_v1_positions_history_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "pattern": "^(1D|1W|1M|3M|1A|all)$"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Time period (1D, 1W, 1M, 3M, 1A, all)",
              "default": "1M",
              "title": "Period"
            },
            "description": "Time period (1D, 1W, 1M, 3M, 1A, all)"
          },
          {
            "name": "timeframe",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "pattern": "^(1Min|5Min|15Min|1H|1D)$"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Data resolution (1Min, 5Min, 15Min, 1H, 1D)",
              "title": "Timeframe"
            },
            "description": "Data resolution (1Min, 5Min, 15Min, 1H, 1D)"
          },
          {
            "name": "date_end",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End date for history",
              "title": "Date End"
            },
            "description": "End date for history"
          },
          {
            "name": "extended_hours",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include extended hours data",
              "default": false,
              "title": "Extended Hours"
            },
            "description": "Include extended hours data"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortfolioHistory"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/watchlists": {
      "get": {
        "tags": [
          "Watchlists"
        ],
        "summary": "List Watchlists",
        "description": "List all watchlists for the current user.\n\nReturns all watchlists associated with the user's brokerage account.",
        "operationId": "list_watchlists_api_v1_watchlists_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchlistListResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "Watchlists"
        ],
        "summary": "Create Watchlist",
        "description": "Create a new watchlist.\n\nCreates a watchlist with the given name and optionally adds initial symbols.",
        "operationId": "create_watchlist_api_v1_watchlists_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateWatchlistRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchlistResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/watchlists/{watchlist_id}": {
      "get": {
        "tags": [
          "Watchlists"
        ],
        "summary": "Get Watchlist",
        "description": "Get a watchlist by ID.\n\nReturns the watchlist details including all symbols.",
        "operationId": "get_watchlist_api_v1_watchlists__watchlist_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "watchlist_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Watchlist Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchlistResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Watchlists"
        ],
        "summary": "Update Watchlist",
        "description": "Update a watchlist.\n\nCan update the name and/or replace all symbols in the watchlist.",
        "operationId": "update_watchlist_api_v1_watchlists__watchlist_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "watchlist_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Watchlist Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateWatchlistRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchlistResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Watchlists"
        ],
        "summary": "Delete Watchlist",
        "description": "Delete a watchlist.\n\nPermanently removes the watchlist and all its symbol associations.",
        "operationId": "delete_watchlist_api_v1_watchlists__watchlist_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "watchlist_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Watchlist Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/watchlists/{watchlist_id}/symbols": {
      "post": {
        "tags": [
          "Watchlists"
        ],
        "summary": "Add Symbol To Watchlist",
        "description": "Add a symbol to a watchlist.\n\nAdds the specified stock symbol to the watchlist.",
        "operationId": "add_symbol_to_watchlist_api_v1_watchlists__watchlist_id__symbols_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "watchlist_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Watchlist Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddSymbolRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchlistResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/watchlists/{watchlist_id}/symbols/{symbol}": {
      "delete": {
        "tags": [
          "Watchlists"
        ],
        "summary": "Remove Symbol From Watchlist",
        "description": "Remove a symbol from a watchlist.\n\nRemoves the specified stock symbol from the watchlist.",
        "operationId": "remove_symbol_from_watchlist_api_v1_watchlists__watchlist_id__symbols__symbol__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "watchlist_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Watchlist Id"
            }
          },
          {
            "name": "symbol",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Symbol"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchlistResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/webhooks/alpaca": {
      "post": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Alpaca Webhook",
        "description": "Handle Alpaca webhook events.\n\nEvents include:\n- trade_updates: Order fills, cancellations\n- account_updates: Account status changes\n- transfer_updates: Deposit/withdrawal status",
        "operationId": "alpaca_webhook_webhooks_alpaca_post",
        "parameters": [
          {
            "name": "x-alpaca-signature",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "title": "X-Alpaca-Signature"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Alpaca Webhook Webhooks Alpaca Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/webhooks/alpaca/health": {
      "get": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Webhook Health",
        "description": "Health check for webhook endpoint.",
        "operationId": "webhook_health_webhooks_alpaca_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Webhook Health Webhooks Alpaca Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "tags": [
          "Root"
        ],
        "summary": "Root",
        "description": "Root endpoint - API information.\n\nReturns:\n    dict: API information",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Root  Get"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AccountConfiguration": {
        "properties": {
          "dtbp_check": {
            "type": "string",
            "title": "Dtbp Check",
            "description": "Day trade buying power check setting ('entry', 'exit', 'both')"
          },
          "trade_confirm_email": {
            "type": "string",
            "title": "Trade Confirm Email",
            "description": "Trade confirmation email setting ('all', 'none')"
          },
          "suspend_trade": {
            "type": "boolean",
            "title": "Suspend Trade",
            "description": "Whether trading is suspended for the account"
          },
          "no_shorting": {
            "type": "boolean",
            "title": "No Shorting",
            "description": "Whether shorting is disabled for the account"
          },
          "fractional_trading": {
            "type": "boolean",
            "title": "Fractional Trading",
            "description": "Whether fractional trading is enabled"
          },
          "max_margin_multiplier": {
            "type": "string",
            "title": "Max Margin Multiplier",
            "description": "Maximum margin multiplier for the account"
          },
          "pdt_check": {
            "type": "string",
            "title": "Pdt Check",
            "description": "Pattern day trader check setting"
          },
          "ptp_no_exception_entry": {
            "type": "boolean",
            "title": "Ptp No Exception Entry",
            "description": "PTP no exception entry setting"
          }
        },
        "type": "object",
        "required": [
          "dtbp_check",
          "trade_confirm_email",
          "suspend_trade",
          "no_shorting",
          "fractional_trading",
          "max_margin_multiplier",
          "pdt_check",
          "ptp_no_exception_entry"
        ],
        "title": "AccountConfiguration",
        "description": "Account trading configuration settings from Alpaca."
      },
      "AddSymbolRequest": {
        "properties": {
          "symbol": {
            "type": "string",
            "maxLength": 10,
            "minLength": 1,
            "title": "Symbol",
            "description": "Stock symbol to add"
          }
        },
        "type": "object",
        "required": [
          "symbol"
        ],
        "title": "AddSymbolRequest",
        "description": "Request to add a symbol to a watchlist."
      },
      "AllocationRequest": {
        "properties": {
          "investment_amount": {
            "type": "number",
            "exclusiveMinimum": 0.0,
            "title": "Investment Amount",
            "description": "Amount to invest in GBP"
          },
          "risk_tolerance": {
            "type": "string",
            "title": "Risk Tolerance",
            "description": "low, medium, or high"
          },
          "time_horizon": {
            "type": "string",
            "title": "Time Horizon",
            "description": "short, medium, or long"
          }
        },
        "type": "object",
        "required": [
          "investment_amount",
          "risk_tolerance",
          "time_horizon"
        ],
        "title": "AllocationRequest",
        "description": "Allocation suggestion request."
      },
      "AppleTokenRequest": {
        "properties": {
          "identity_token": {
            "type": "string",
            "title": "Identity Token"
          },
          "user_first_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User First Name"
          },
          "user_last_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Last Name"
          }
        },
        "type": "object",
        "required": [
          "identity_token"
        ],
        "title": "AppleTokenRequest",
        "description": "Request to exchange Apple identity token."
      },
      "AuthProvider": {
        "type": "string",
        "enum": [
          "apple",
          "google"
        ],
        "title": "AuthProvider",
        "description": "Supported authentication providers."
      },
      "BankAccountType": {
        "type": "string",
        "enum": [
          "CHECKING",
          "SAVINGS"
        ],
        "title": "BankAccountType",
        "description": "Bank account type."
      },
      "BankRelationshipResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "status": {
            "$ref": "#/components/schemas/BankRelationshipStatus"
          },
          "bank_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bank Name"
          },
          "account_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BankAccountType"
              },
              {
                "type": "null"
              }
            ]
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "status",
          "created_at"
        ],
        "title": "BankRelationshipResponse",
        "description": "Response model for bank relationship."
      },
      "BankRelationshipStatus": {
        "type": "string",
        "enum": [
          "QUEUED",
          "APPROVED",
          "PENDING",
          "CANCELED"
        ],
        "title": "BankRelationshipStatus",
        "description": "ACH relationship status from Alpaca."
      },
      "BasketAllocation-Input": {
        "properties": {
          "symbol": {
            "type": "string",
            "title": "Symbol",
            "description": "Stock symbol (e.g., AAPL)"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Company name"
          },
          "percentage": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              }
            ],
            "title": "Percentage",
            "description": "Allocation percentage"
          },
          "target_shares": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Shares",
            "description": "Target number of shares"
          }
        },
        "type": "object",
        "required": [
          "symbol",
          "name",
          "percentage"
        ],
        "title": "BasketAllocation",
        "description": "Stock allocation within a basket."
      },
      "BasketAllocation-Output": {
        "properties": {
          "symbol": {
            "type": "string",
            "title": "Symbol",
            "description": "Stock symbol (e.g., AAPL)"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Company name"
          },
          "percentage": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Percentage",
            "description": "Allocation percentage"
          },
          "target_shares": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Shares",
            "description": "Target number of shares"
          }
        },
        "type": "object",
        "required": [
          "symbol",
          "name",
          "percentage"
        ],
        "title": "BasketAllocation",
        "description": "Stock allocation within a basket."
      },
      "BasketCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Basket name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Description"
          },
          "category": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Category",
            "description": "Category label"
          },
          "icon": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Icon",
            "description": "Basket icon name"
          },
          "color": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color",
            "description": "Basket color hex code"
          },
          "allocations": {
            "items": {
              "$ref": "#/components/schemas/BasketAllocation-Input"
            },
            "type": "array",
            "title": "Allocations",
            "description": "Stock allocations"
          },
          "is_shared": {
            "type": "boolean",
            "title": "Is Shared",
            "description": "Share with family",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "BasketCreate",
        "description": "Schema for creating a new basket."
      },
      "BasketResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          },
          "icon": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Icon"
          },
          "color": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color"
          },
          "allocations": {
            "items": {
              "$ref": "#/components/schemas/BasketAllocation-Output"
            },
            "type": "array",
            "title": "Allocations"
          },
          "dca_enabled": {
            "type": "boolean",
            "title": "Dca Enabled"
          },
          "dca_schedule_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dca Schedule Id"
          },
          "status": {
            "$ref": "#/components/schemas/BasketStatus"
          },
          "summary": {
            "$ref": "#/components/schemas/BasketSummary"
          },
          "is_shared": {
            "type": "boolean",
            "title": "Is Shared"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "name",
          "description",
          "category",
          "icon",
          "color",
          "allocations",
          "dca_enabled",
          "dca_schedule_id",
          "status",
          "summary",
          "is_shared",
          "created_at",
          "updated_at"
        ],
        "title": "BasketResponse",
        "description": "Schema for basket API response."
      },
      "BasketStatus": {
        "type": "string",
        "enum": [
          "active",
          "paused",
          "cancelled"
        ],
        "title": "BasketStatus",
        "description": "Basket status values."
      },
      "BasketSummary": {
        "properties": {
          "current_value": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Current Value",
            "description": "Current portfolio value",
            "default": "0"
          },
          "total_invested": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Total Invested",
            "description": "Total amount invested",
            "default": "0"
          },
          "total_gain_loss": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Total Gain Loss",
            "description": "Total gain/loss",
            "default": "0"
          }
        },
        "type": "object",
        "title": "BasketSummary",
        "description": "Basket holdings summary."
      },
      "BasketUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "category": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          },
          "icon": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Icon"
          },
          "color": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color"
          },
          "allocations": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/BasketAllocation-Input"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Allocations"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BasketStatus"
              },
              {
                "type": "null"
              }
            ]
          },
          "is_shared": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Shared"
          }
        },
        "type": "object",
        "title": "BasketUpdate",
        "description": "Schema for updating a basket."
      },
      "CalendarDay": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date",
            "description": "Trading date (YYYY-MM-DD)"
          },
          "open": {
            "type": "string",
            "title": "Open",
            "description": "Market open time (HH:MM)"
          },
          "close": {
            "type": "string",
            "title": "Close",
            "description": "Market close time (HH:MM)"
          }
        },
        "type": "object",
        "required": [
          "date",
          "open",
          "close"
        ],
        "title": "CalendarDay",
        "description": "A single trading day from the market calendar."
      },
      "ChatMessage": {
        "properties": {
          "role": {
            "type": "string",
            "title": "Role",
            "description": "Message role (user/assistant)"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Message content"
          }
        },
        "type": "object",
        "required": [
          "role",
          "content"
        ],
        "title": "ChatMessage",
        "description": "Chat message."
      },
      "ChatRequest": {
        "properties": {
          "message": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 1,
            "title": "Message",
            "description": "User message"
          },
          "conversation_history": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ChatMessage"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversation History",
            "description": "Previous conversation messages"
          },
          "include_portfolio_context": {
            "type": "boolean",
            "title": "Include Portfolio Context",
            "description": "Include portfolio context in AI response",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "ChatRequest",
        "description": "Chat request."
      },
      "ChatResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          },
          "suggested_actions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Suggested Actions"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "ChatResponse",
        "description": "Chat response."
      },
      "CloseAllPositionsResponse": {
        "properties": {
          "closed": {
            "items": {
              "$ref": "#/components/schemas/ClosePositionResponse"
            },
            "type": "array",
            "title": "Closed"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          }
        },
        "type": "object",
        "required": [
          "closed",
          "count"
        ],
        "title": "CloseAllPositionsResponse",
        "description": "Response model for closing all positions."
      },
      "ClosePositionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "symbol": {
            "type": "string",
            "title": "Symbol"
          },
          "side": {
            "type": "string",
            "title": "Side"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "qty": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qty"
          },
          "filled_qty": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filled Qty"
          },
          "filled_avg_price": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filled Avg Price"
          },
          "submitted_at": {
            "type": "string",
            "title": "Submitted At"
          },
          "filled_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filled At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "symbol",
          "side",
          "type",
          "status",
          "submitted_at"
        ],
        "title": "ClosePositionResponse",
        "description": "Response model for closing a position."
      },
      "CorporateActionListResponse": {
        "properties": {
          "corporate_actions": {
            "items": {
              "$ref": "#/components/schemas/CorporateActionResponse"
            },
            "type": "array",
            "title": "Corporate Actions"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More"
          }
        },
        "type": "object",
        "required": [
          "corporate_actions",
          "total_count",
          "has_more"
        ],
        "title": "CorporateActionListResponse",
        "description": "Response model for listing corporate actions."
      },
      "CorporateActionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "type": {
            "$ref": "#/components/schemas/CorporateActionType"
          },
          "symbol": {
            "type": "string",
            "title": "Symbol"
          },
          "corporate_action_id": {
            "type": "string",
            "title": "Corporate Action Id"
          },
          "announcement_date": {
            "type": "string",
            "format": "date",
            "title": "Announcement Date"
          },
          "record_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Record Date"
          },
          "ex_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ex Date"
          },
          "payable_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Payable Date"
          },
          "status": {
            "$ref": "#/components/schemas/CorporateActionStatus"
          },
          "cash_amount": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cash Amount"
          },
          "old_rate": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Rate"
          },
          "new_rate": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "New Rate"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "type",
          "symbol",
          "corporate_action_id",
          "announcement_date",
          "status",
          "created_at"
        ],
        "title": "CorporateActionResponse",
        "description": "Response model for corporate action API."
      },
      "CorporateActionStatus": {
        "type": "string",
        "enum": [
          "pending",
          "processed",
          "canceled"
        ],
        "title": "CorporateActionStatus",
        "description": "Status of corporate action processing."
      },
      "CorporateActionType": {
        "type": "string",
        "enum": [
          "dividend",
          "split",
          "merger",
          "spinoff",
          "rights"
        ],
        "title": "CorporateActionType",
        "description": "Types of corporate actions."
      },
      "CreateBankManualRequest": {
        "properties": {
          "account_type": {
            "$ref": "#/components/schemas/BankAccountType"
          },
          "bank_account_number": {
            "type": "string",
            "maxLength": 17,
            "minLength": 4,
            "title": "Bank Account Number"
          },
          "bank_routing_number": {
            "type": "string",
            "maxLength": 9,
            "minLength": 9,
            "title": "Bank Routing Number"
          },
          "nickname": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Nickname"
          }
        },
        "type": "object",
        "required": [
          "account_type",
          "bank_account_number",
          "bank_routing_number",
          "nickname"
        ],
        "title": "CreateBankManualRequest",
        "description": "Request to link a bank account manually with routing/account numbers."
      },
      "CreateBankPlaidRequest": {
        "properties": {
          "processor_token": {
            "type": "string",
            "title": "Processor Token",
            "description": "Plaid processor token"
          }
        },
        "type": "object",
        "required": [
          "processor_token"
        ],
        "title": "CreateBankPlaidRequest",
        "description": "Request to link a bank account via Plaid processor token."
      },
      "CreateRecipientBankRequest": {
        "properties": {
          "bank_name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Bank Name"
          },
          "account_holder_name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Account Holder Name"
          },
          "account_number": {
            "type": "string",
            "maxLength": 34,
            "minLength": 1,
            "title": "Account Number"
          },
          "currency": {
            "type": "string",
            "title": "Currency",
            "description": "Currency code (e.g., GBP, EUR)"
          },
          "swift_code": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 11,
                "minLength": 8
              },
              {
                "type": "null"
              }
            ],
            "title": "Swift Code"
          },
          "iban": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 34,
                "minLength": 15
              },
              {
                "type": "null"
              }
            ],
            "title": "Iban"
          },
          "bank_address": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Bank Address"
          }
        },
        "type": "object",
        "required": [
          "bank_name",
          "account_holder_name",
          "account_number",
          "currency"
        ],
        "title": "CreateRecipientBankRequest",
        "description": "Request to add recipient bank for withdrawals."
      },
      "CreateWatchlistRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 64,
            "minLength": 1,
            "title": "Name",
            "description": "Watchlist name"
          },
          "symbols": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Symbols",
            "description": "Optional list of symbols to add"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "CreateWatchlistRequest",
        "description": "Request to create a new watchlist."
      },
      "DCAAllocation-Input": {
        "properties": {
          "symbol": {
            "type": "string",
            "title": "Symbol",
            "description": "Stock symbol"
          },
          "percentage": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              }
            ],
            "title": "Percentage",
            "description": "Allocation percentage"
          },
          "min_amount": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Min Amount",
            "description": "Minimum order amount"
          }
        },
        "type": "object",
        "required": [
          "symbol",
          "percentage"
        ],
        "title": "DCAAllocation",
        "description": "Stock allocation within a DCA schedule."
      },
      "DCAAllocation-Output": {
        "properties": {
          "symbol": {
            "type": "string",
            "title": "Symbol",
            "description": "Stock symbol"
          },
          "percentage": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Percentage",
            "description": "Allocation percentage"
          },
          "min_amount": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Min Amount",
            "description": "Minimum order amount"
          }
        },
        "type": "object",
        "required": [
          "symbol",
          "percentage"
        ],
        "title": "DCAAllocation",
        "description": "Stock allocation within a DCA schedule."
      },
      "DCAFrequency": {
        "type": "string",
        "enum": [
          "daily",
          "weekly",
          "biweekly",
          "monthly"
        ],
        "title": "DCAFrequency",
        "description": "DCA execution frequency."
      },
      "DCAScheduleCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Schedule name"
          },
          "basket_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Basket Id",
            "description": "Linked basket ID"
          },
          "amount": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              }
            ],
            "title": "Amount",
            "description": "Amount per execution"
          },
          "currency": {
            "type": "string",
            "title": "Currency",
            "description": "Currency",
            "default": "GBP"
          },
          "frequency": {
            "$ref": "#/components/schemas/DCAFrequency",
            "default": "weekly"
          },
          "day_of_week": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 6.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Day Of Week"
          },
          "day_of_month": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 28.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Day Of Month"
          },
          "execution_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Execution Time"
          },
          "allocations": {
            "items": {
              "$ref": "#/components/schemas/DCAAllocation-Input"
            },
            "type": "array",
            "title": "Allocations",
            "description": "Stock allocations"
          },
          "end_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Date"
          },
          "max_executions": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Executions"
          }
        },
        "type": "object",
        "required": [
          "name",
          "amount",
          "allocations"
        ],
        "title": "DCAScheduleCreate",
        "description": "Schema for creating a DCA schedule."
      },
      "DCAScheduleResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "basket_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Basket Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "amount": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Amount"
          },
          "currency": {
            "type": "string",
            "title": "Currency"
          },
          "frequency": {
            "$ref": "#/components/schemas/DCAFrequency"
          },
          "day_of_week": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Day Of Week"
          },
          "day_of_month": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Day Of Month"
          },
          "execution_time": {
            "type": "string",
            "format": "time",
            "title": "Execution Time"
          },
          "allocations": {
            "items": {
              "$ref": "#/components/schemas/DCAAllocation-Output"
            },
            "type": "array",
            "title": "Allocations"
          },
          "status": {
            "$ref": "#/components/schemas/DCAStatus"
          },
          "next_execution": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Execution"
          },
          "last_execution": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Execution"
          },
          "total_invested": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Total Invested"
          },
          "execution_count": {
            "type": "integer",
            "title": "Execution Count"
          },
          "failed_count": {
            "type": "integer",
            "title": "Failed Count"
          },
          "end_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Date"
          },
          "max_executions": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Executions"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "basket_id",
          "name",
          "amount",
          "currency",
          "frequency",
          "day_of_week",
          "day_of_month",
          "execution_time",
          "allocations",
          "status",
          "next_execution",
          "last_execution",
          "total_invested",
          "execution_count",
          "failed_count",
          "end_date",
          "max_executions",
          "created_at",
          "updated_at"
        ],
        "title": "DCAScheduleResponse",
        "description": "Schema for DCA schedule API response."
      },
      "DCAScheduleUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "amount": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Amount"
          },
          "frequency": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DCAFrequency"
              },
              {
                "type": "null"
              }
            ]
          },
          "day_of_week": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 6.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Day Of Week"
          },
          "day_of_month": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 28.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Day Of Month"
          },
          "execution_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Execution Time"
          },
          "allocations": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/DCAAllocation-Input"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Allocations"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DCAStatus"
              },
              {
                "type": "null"
              }
            ]
          },
          "end_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Date"
          },
          "max_executions": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Executions"
          }
        },
        "type": "object",
        "title": "DCAScheduleUpdate",
        "description": "Schema for updating a DCA schedule."
      },
      "DCAStatus": {
        "type": "string",
        "enum": [
          "active",
          "paused",
          "completed",
          "cancelled",
          "pending_funds"
        ],
        "title": "DCAStatus",
        "description": "DCA schedule status."
      },
      "DepositRequest": {
        "properties": {
          "amount": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              }
            ],
            "title": "Amount",
            "description": "Amount to deposit in USD"
          },
          "relationship_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Relationship Id",
            "description": "Bank relationship ID"
          }
        },
        "type": "object",
        "required": [
          "amount"
        ],
        "title": "DepositRequest",
        "description": "Deposit request."
      },
      "Document": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Document ID"
          },
          "type": {
            "$ref": "#/components/schemas/DocumentType",
            "description": "Document type"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Document name/filename"
          },
          "date": {
            "type": "string",
            "format": "date-time",
            "title": "Date",
            "description": "Document date"
          },
          "account_id": {
            "type": "string",
            "title": "Account Id",
            "description": "Associated account ID"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When the document was created"
          }
        },
        "type": "object",
        "required": [
          "id",
          "type",
          "name",
          "date",
          "account_id",
          "created_at"
        ],
        "title": "Document",
        "description": "Document metadata from Alpaca."
      },
      "DocumentListResponse": {
        "properties": {
          "documents": {
            "items": {
              "$ref": "#/components/schemas/Document"
            },
            "type": "array",
            "title": "Documents"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "default": 0
          }
        },
        "type": "object",
        "title": "DocumentListResponse",
        "description": "Response for listing documents."
      },
      "DocumentType": {
        "type": "string",
        "enum": [
          "tax_statement",
          "trade_confirmation",
          "account_statement"
        ],
        "title": "DocumentType",
        "description": "Types of documents available from Alpaca."
      },
      "Family": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Family ID"
          },
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Family name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "owner_id": {
            "type": "string",
            "title": "Owner Id",
            "description": "Owner user ID"
          },
          "admin_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Admin Ids",
            "description": "Admin user IDs"
          },
          "members": {
            "items": {
              "$ref": "#/components/schemas/FamilyMember"
            },
            "type": "array",
            "title": "Members"
          },
          "max_members": {
            "type": "integer",
            "title": "Max Members",
            "description": "Maximum family members",
            "default": 10
          },
          "allow_shared_goals": {
            "type": "boolean",
            "title": "Allow Shared Goals",
            "description": "Allow shared goals",
            "default": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "partition_key": {
            "type": "string",
            "title": "Partition Key",
            "description": "Partition key (id)",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "name",
          "owner_id"
        ],
        "title": "Family",
        "description": "Family group model."
      },
      "FamilyCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Family name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "FamilyCreate",
        "description": "Schema for creating a family."
      },
      "FamilyInvite": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Invite ID"
          },
          "family_id": {
            "type": "string",
            "title": "Family Id",
            "description": "Family to join"
          },
          "family_name": {
            "type": "string",
            "title": "Family Name",
            "description": "Family name"
          },
          "inviter_id": {
            "type": "string",
            "title": "Inviter Id",
            "description": "User who sent invite"
          },
          "inviter_name": {
            "type": "string",
            "title": "Inviter Name",
            "description": "Inviter display name"
          },
          "invitee_email": {
            "type": "string",
            "format": "email",
            "title": "Invitee Email",
            "description": "Invited email address"
          },
          "invitee_user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invitee User Id",
            "description": "Invitee user ID if known"
          },
          "role": {
            "$ref": "#/components/schemas/FamilyRole",
            "default": "member"
          },
          "status": {
            "$ref": "#/components/schemas/InviteStatus",
            "default": "pending"
          },
          "invite_code": {
            "type": "string",
            "title": "Invite Code"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "title": "Expires At",
            "description": "Expiration time"
          },
          "responded_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Responded At"
          },
          "partition_key": {
            "type": "string",
            "title": "Partition Key",
            "description": "Partition key (family_id)",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "family_id",
          "family_name",
          "inviter_id",
          "inviter_name",
          "invitee_email",
          "expires_at"
        ],
        "title": "FamilyInvite",
        "description": "Family invitation."
      },
      "FamilyInviteCreate": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "Email to invite"
          },
          "role": {
            "$ref": "#/components/schemas/FamilyRole",
            "default": "member"
          },
          "message": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Custom message"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "FamilyInviteCreate",
        "description": "Schema for creating a family invite."
      },
      "FamilyMember": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Display name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "Email address"
          },
          "role": {
            "$ref": "#/components/schemas/FamilyRole",
            "description": "Family role",
            "default": "member"
          },
          "picture_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Picture Url",
            "description": "Profile picture"
          },
          "joined_at": {
            "type": "string",
            "format": "date-time",
            "title": "Joined At",
            "description": "Join date"
          },
          "share_portfolio_value": {
            "type": "boolean",
            "title": "Share Portfolio Value",
            "description": "Share total value",
            "default": true
          },
          "share_holdings": {
            "type": "boolean",
            "title": "Share Holdings",
            "description": "Share individual holdings",
            "default": false
          },
          "share_performance": {
            "type": "boolean",
            "title": "Share Performance",
            "description": "Share performance metrics",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "name",
          "email"
        ],
        "title": "FamilyMember",
        "description": "A member of a family group."
      },
      "FamilyRole": {
        "type": "string",
        "enum": [
          "admin",
          "member",
          "viewer"
        ],
        "title": "FamilyRole",
        "description": "Role within a family group."
      },
      "FamilyUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "allow_shared_goals": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Allow Shared Goals"
          }
        },
        "type": "object",
        "title": "FamilyUpdate",
        "description": "Schema for updating a family."
      },
      "FundingDetailsResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "currency": {
            "type": "string",
            "title": "Currency"
          },
          "bank_name": {
            "type": "string",
            "title": "Bank Name"
          },
          "bank_address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bank Address"
          },
          "account_number": {
            "type": "string",
            "title": "Account Number"
          },
          "routing_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Routing Number"
          },
          "swift_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Swift Code"
          },
          "iban": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Iban"
          },
          "reference": {
            "type": "string",
            "title": "Reference"
          },
          "payment_method": {
            "type": "string",
            "title": "Payment Method"
          }
        },
        "type": "object",
        "required": [
          "id",
          "currency",
          "bank_name",
          "account_number",
          "reference",
          "payment_method"
        ],
        "title": "FundingDetailsResponse",
        "description": "Wire/deposit instructions for funding wallet."
      },
      "FundingMethod": {
        "type": "string",
        "enum": [
          "ach",
          "wire",
          "swift",
          "local_rails",
          "instant"
        ],
        "title": "FundingMethod",
        "description": "Method used to fund the account."
      },
      "FundingWalletResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "account_id": {
            "type": "string",
            "title": "Account Id"
          },
          "account_number": {
            "type": "string",
            "title": "Account Number"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "account_id",
          "account_number",
          "status",
          "created_at"
        ],
        "title": "FundingWalletResponse",
        "description": "Funding wallet details."
      },
      "FundingWalletTransferResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "direction": {
            "type": "string",
            "title": "Direction"
          },
          "amount": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Amount"
          },
          "currency": {
            "type": "string",
            "title": "Currency"
          },
          "converted_amount_usd": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Converted Amount Usd"
          },
          "fx_rate": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fx Rate"
          },
          "status": {
            "$ref": "#/components/schemas/FundingWalletTransferStatus"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "direction",
          "amount",
          "currency",
          "status",
          "created_at"
        ],
        "title": "FundingWalletTransferResponse",
        "description": "Transfer record from funding wallet."
      },
      "FundingWalletTransferStatus": {
        "type": "string",
        "enum": [
          "PENDING",
          "PROCESSING",
          "COMPLETE",
          "FAILED",
          "CANCELED"
        ],
        "title": "FundingWalletTransferStatus",
        "description": "Transfer status for funding wallet."
      },
      "FundingWalletWithdrawalRequest": {
        "properties": {
          "amount": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              }
            ],
            "title": "Amount",
            "description": "Amount to withdraw in USD"
          }
        },
        "type": "object",
        "required": [
          "amount"
        ],
        "title": "FundingWalletWithdrawalRequest",
        "description": "Request to withdraw from funding wallet."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "InstantDepositRequest": {
        "properties": {
          "amount": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              }
            ],
            "title": "Amount",
            "description": "Amount to deposit in USD"
          },
          "relationship_id": {
            "type": "string",
            "title": "Relationship Id",
            "description": "Bank relationship ID for ACH"
          }
        },
        "type": "object",
        "required": [
          "amount",
          "relationship_id"
        ],
        "title": "InstantDepositRequest",
        "description": "Instant deposit request."
      },
      "InstantDepositResponse": {
        "properties": {
          "request_id": {
            "type": "string",
            "title": "Request Id"
          },
          "amount_usd": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Amount Usd"
          },
          "funding_method": {
            "type": "string",
            "title": "Funding Method"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "funds_available_immediately": {
            "type": "boolean",
            "title": "Funds Available Immediately"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "request_id",
          "amount_usd",
          "funding_method",
          "status",
          "funds_available_immediately",
          "created_at"
        ],
        "title": "InstantDepositResponse",
        "description": "Instant deposit response."
      },
      "InstantFundingLimitsResponse": {
        "properties": {
          "daily_limit_usd": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Daily Limit Usd"
          },
          "daily_used_usd": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Daily Used Usd"
          },
          "daily_remaining_usd": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Daily Remaining Usd"
          },
          "instant_funding_available": {
            "type": "boolean",
            "title": "Instant Funding Available"
          }
        },
        "type": "object",
        "required": [
          "daily_limit_usd",
          "daily_used_usd",
          "daily_remaining_usd",
          "instant_funding_available"
        ],
        "title": "InstantFundingLimitsResponse",
        "description": "Instant funding limits response (USD only)."
      },
      "InviteStatus": {
        "type": "string",
        "enum": [
          "pending",
          "accepted",
          "declined",
          "expired"
        ],
        "title": "InviteStatus",
        "description": "Status of a family invite."
      },
      "LedgerEntry": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique entry ID"
          },
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User ID"
          },
          "basket_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Basket Id",
            "description": "Associated basket ID"
          },
          "dca_schedule_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dca Schedule Id",
            "description": "DCA schedule if automated"
          },
          "entry_type": {
            "$ref": "#/components/schemas/LedgerEntryType",
            "description": "Type of transaction"
          },
          "symbol": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Symbol",
            "description": "Stock symbol"
          },
          "quantity": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Quantity",
            "description": "Number of shares"
          },
          "price_per_share": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Price Per Share",
            "description": "Price per share (USD)"
          },
          "amount_usd": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Amount Usd",
            "description": "Amount in USD"
          },
          "amount_gbp": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Amount Gbp",
            "description": "Amount in GBP (if applicable)"
          },
          "fx_rate": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fx Rate",
            "description": "FX rate (if conversion occurred)"
          },
          "fx_provider": {
            "type": "string",
            "title": "Fx Provider",
            "description": "FX rate provider",
            "default": "system"
          },
          "funding_method": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/FundingMethod"
              },
              {
                "type": "null"
              }
            ],
            "description": "Funding method used"
          },
          "original_currency": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Original Currency",
            "description": "Original deposit currency"
          },
          "original_amount": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Original Amount",
            "description": "Amount in original currency"
          },
          "alpaca_transfer_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alpaca Transfer Id",
            "description": "Alpaca transfer ID"
          },
          "commission_usd": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Commission Usd",
            "description": "Trading commission",
            "default": "0"
          },
          "fx_fee_usd": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Fx Fee Usd",
            "description": "FX conversion fee",
            "default": "0"
          },
          "total_fees_usd": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Total Fees Usd",
            "description": "Total fees",
            "default": "0"
          },
          "alpaca_order_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alpaca Order Id",
            "description": "Alpaca order ID"
          },
          "alpaca_activity_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alpaca Activity Id",
            "description": "Alpaca activity ID"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Entry status",
            "default": "completed"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Additional notes"
          },
          "transaction_date": {
            "type": "string",
            "format": "date-time",
            "title": "Transaction Date",
            "description": "When transaction occurred"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "partition_key": {
            "type": "string",
            "title": "Partition Key",
            "description": "Partition key (user_id)",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "entry_type",
          "amount_usd",
          "transaction_date"
        ],
        "title": "LedgerEntry",
        "description": "A single ledger entry representing a transaction.\n\nAll monetary amounts are stored in both USD (trading currency)\nand GBP (user's base currency) with the FX rate at time of transaction."
      },
      "LedgerEntryType": {
        "type": "string",
        "enum": [
          "buy",
          "sell",
          "dividend",
          "deposit",
          "withdrawal",
          "fx_conversion",
          "commission",
          "fx_fee",
          "platform_fee",
          "adjustment",
          "transfer_in",
          "transfer_out",
          "stock_split",
          "merger"
        ],
        "title": "LedgerEntryType",
        "description": "Types of ledger entries."
      },
      "LedgerSummary": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "period_start": {
            "type": "string",
            "format": "date-time",
            "title": "Period Start"
          },
          "period_end": {
            "type": "string",
            "format": "date-time",
            "title": "Period End"
          },
          "total_buys": {
            "type": "integer",
            "title": "Total Buys",
            "default": 0
          },
          "total_sells": {
            "type": "integer",
            "title": "Total Sells",
            "default": 0
          },
          "total_buy_amount_usd": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Total Buy Amount Usd",
            "default": "0"
          },
          "total_buy_amount_gbp": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Total Buy Amount Gbp",
            "default": "0"
          },
          "total_sell_amount_usd": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Total Sell Amount Usd",
            "default": "0"
          },
          "total_sell_amount_gbp": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Total Sell Amount Gbp",
            "default": "0"
          },
          "total_deposits_gbp": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Total Deposits Gbp",
            "default": "0"
          },
          "total_withdrawals_gbp": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Total Withdrawals Gbp",
            "default": "0"
          },
          "net_deposits_gbp": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Net Deposits Gbp",
            "default": "0"
          },
          "total_dividends_usd": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Total Dividends Usd",
            "default": "0"
          },
          "total_dividends_gbp": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Total Dividends Gbp",
            "default": "0"
          },
          "total_commissions_usd": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Total Commissions Usd",
            "default": "0"
          },
          "total_fx_fees_usd": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Total Fx Fees Usd",
            "default": "0"
          },
          "total_fees_usd": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Total Fees Usd",
            "default": "0"
          },
          "total_fx_conversions": {
            "type": "integer",
            "title": "Total Fx Conversions",
            "default": 0
          },
          "total_gbp_converted": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Total Gbp Converted",
            "default": "0"
          },
          "total_usd_received": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Total Usd Received",
            "default": "0"
          },
          "avg_fx_rate": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avg Fx Rate"
          },
          "generated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Generated At"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "period_start",
          "period_end"
        ],
        "title": "LedgerSummary",
        "description": "Summary of ledger activity."
      },
      "MarketStatus": {
        "properties": {
          "exchange": {
            "type": "string",
            "title": "Exchange",
            "description": "Exchange name"
          },
          "is_open": {
            "type": "boolean",
            "title": "Is Open",
            "description": "Market is currently open"
          },
          "session": {
            "type": "string",
            "title": "Session",
            "description": "Current session (pre, regular, after, closed)"
          },
          "next_open": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Open"
          },
          "next_close": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Close"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "exchange",
          "is_open",
          "session"
        ],
        "title": "MarketStatus",
        "description": "Market status information."
      },
      "OrderResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "symbol": {
            "type": "string",
            "title": "Symbol"
          },
          "side": {
            "type": "string",
            "title": "Side"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "notional": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notional"
          },
          "qty": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qty"
          },
          "filled_qty": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filled Qty"
          },
          "filled_avg_price": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filled Avg Price"
          },
          "submitted_at": {
            "type": "string",
            "title": "Submitted At"
          },
          "filled_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filled At"
          },
          "cancelled_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cancelled At"
          },
          "expired_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expired At"
          },
          "client_order_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Order Id"
          }
        },
        "type": "object",
        "required": [
          "id",
          "symbol",
          "side",
          "type",
          "status",
          "submitted_at"
        ],
        "title": "OrderResponse",
        "description": "Response model for order submission."
      },
      "PortfolioHistory": {
        "properties": {
          "timestamp": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Timestamp",
            "description": "Unix timestamps for each data point"
          },
          "equity": {
            "items": {
              "type": "string",
              "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
            },
            "type": "array",
            "title": "Equity",
            "description": "Portfolio equity values"
          },
          "profit_loss": {
            "items": {
              "type": "string",
              "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
            },
            "type": "array",
            "title": "Profit Loss",
            "description": "Profit/loss values"
          },
          "profit_loss_pct": {
            "items": {
              "type": "string",
              "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
            },
            "type": "array",
            "title": "Profit Loss Pct",
            "description": "Profit/loss percentages"
          },
          "base_value": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Base Value",
            "description": "Starting portfolio value"
          },
          "timeframe": {
            "type": "string",
            "title": "Timeframe",
            "description": "Data resolution (1Min, 5Min, 15Min, 1H, 1D)"
          }
        },
        "type": "object",
        "required": [
          "timestamp",
          "equity",
          "profit_loss",
          "profit_loss_pct",
          "base_value",
          "timeframe"
        ],
        "title": "PortfolioHistory",
        "description": "Portfolio value history from Alpaca for charting."
      },
      "RecipientBankResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "bank_name": {
            "type": "string",
            "title": "Bank Name"
          },
          "account_holder_name": {
            "type": "string",
            "title": "Account Holder Name"
          },
          "account_number_last4": {
            "type": "string",
            "title": "Account Number Last4"
          },
          "currency": {
            "type": "string",
            "title": "Currency"
          },
          "swift_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Swift Code"
          },
          "iban": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Iban"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "bank_name",
          "account_holder_name",
          "account_number_last4",
          "currency",
          "status",
          "created_at"
        ],
        "title": "RecipientBankResponse",
        "description": "Recipient bank for withdrawals."
      },
      "ReplaceOrderRequest": {
        "properties": {
          "qty": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qty",
            "description": "New quantity"
          },
          "limit_price": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Limit Price",
            "description": "New limit price"
          },
          "stop_price": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stop Price",
            "description": "New stop price"
          },
          "time_in_force": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(day|gtc|ioc|fok)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Time In Force",
            "description": "New time in force"
          },
          "client_order_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 48
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Order Id",
            "description": "New client order ID"
          }
        },
        "type": "object",
        "title": "ReplaceOrderRequest",
        "description": "Request model for replacing/modifying an order."
      },
      "Stock": {
        "properties": {
          "symbol": {
            "type": "string",
            "title": "Symbol",
            "description": "Stock ticker symbol"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Company name"
          },
          "exchange": {
            "type": "string",
            "title": "Exchange",
            "description": "Exchange (NYSE, NASDAQ, etc.)"
          },
          "asset_class": {
            "type": "string",
            "title": "Asset Class",
            "description": "Asset class",
            "default": "us_equity"
          },
          "cusip": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cusip",
            "description": "CUSIP identifier"
          },
          "isin": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Isin",
            "description": "ISIN identifier"
          },
          "tradable": {
            "type": "boolean",
            "title": "Tradable",
            "description": "Can be traded",
            "default": true
          },
          "fractionable": {
            "type": "boolean",
            "title": "Fractionable",
            "description": "Fractional shares allowed",
            "default": true
          },
          "marginable": {
            "type": "boolean",
            "title": "Marginable",
            "description": "Marginable",
            "default": false
          },
          "shortable": {
            "type": "boolean",
            "title": "Shortable",
            "description": "Can be shorted",
            "default": false
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Trading status",
            "default": "active"
          },
          "easy_to_borrow": {
            "type": "boolean",
            "title": "Easy To Borrow",
            "default": true
          },
          "sector": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sector",
            "description": "Industry sector"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry",
            "description": "Specific industry"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Company description"
          },
          "website": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Website",
            "description": "Company website"
          },
          "logo_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logo Url",
            "description": "Company logo URL"
          },
          "market_cap": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Market Cap",
            "description": "Market capitalization"
          },
          "pe_ratio": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pe Ratio",
            "description": "P/E ratio"
          },
          "dividend_yield": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dividend Yield",
            "description": "Dividend yield"
          }
        },
        "type": "object",
        "required": [
          "symbol",
          "name",
          "exchange"
        ],
        "title": "Stock",
        "description": "Stock/security information."
      },
      "StockSearch": {
        "properties": {
          "symbol": {
            "type": "string",
            "title": "Symbol",
            "description": "Stock symbol"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Company name"
          },
          "exchange": {
            "type": "string",
            "title": "Exchange",
            "description": "Exchange"
          },
          "asset_class": {
            "type": "string",
            "title": "Asset Class",
            "default": "us_equity"
          },
          "tradable": {
            "type": "boolean",
            "title": "Tradable",
            "default": true
          },
          "fractionable": {
            "type": "boolean",
            "title": "Fractionable",
            "default": true
          },
          "sector": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sector"
          },
          "logo_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logo Url"
          },
          "current_price": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Price"
          },
          "change_percent": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Change Percent"
          }
        },
        "type": "object",
        "required": [
          "symbol",
          "name",
          "exchange"
        ],
        "title": "StockSearch",
        "description": "Stock search result."
      },
      "StockSearchResults": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query",
            "description": "Search query"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/StockSearch"
            },
            "type": "array",
            "title": "Results"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "StockSearchResults",
        "description": "Stock search response."
      },
      "SubmitOrderRequest": {
        "properties": {
          "symbol": {
            "type": "string",
            "maxLength": 10,
            "minLength": 1,
            "title": "Symbol",
            "description": "Stock symbol"
          },
          "side": {
            "type": "string",
            "pattern": "^(buy|sell)$",
            "title": "Side",
            "description": "Order side: buy or sell"
          },
          "type": {
            "type": "string",
            "pattern": "^(market|limit|stop|stop_limit)$",
            "title": "Type",
            "description": "Order type",
            "default": "market"
          },
          "time_in_force": {
            "type": "string",
            "pattern": "^(day|gtc|ioc|fok)$",
            "title": "Time In Force",
            "description": "Time in force",
            "default": "day"
          },
          "notional": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notional",
            "description": "Dollar amount to invest (for notional orders)"
          },
          "qty": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qty",
            "description": "Number of shares (for share-based orders)"
          },
          "limit_price": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Limit Price",
            "description": "Limit price (required for limit orders)"
          },
          "stop_price": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stop Price",
            "description": "Stop price (required for stop orders)"
          }
        },
        "type": "object",
        "required": [
          "symbol",
          "side"
        ],
        "title": "SubmitOrderRequest",
        "description": "Request model for submitting an order."
      },
      "SyncDepositsResponse": {
        "properties": {
          "synced_count": {
            "type": "integer",
            "title": "Synced Count"
          },
          "synced_transfer_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Synced Transfer Ids"
          }
        },
        "type": "object",
        "required": [
          "synced_count",
          "synced_transfer_ids"
        ],
        "title": "SyncDepositsResponse",
        "description": "Response for deposit sync."
      },
      "TokenResponse": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "is_new_user": {
            "type": "boolean",
            "title": "Is New User"
          },
          "alpaca_account_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alpaca Account Id"
          },
          "alpaca_account_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alpaca Account Status"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "email",
          "name",
          "is_new_user",
          "alpaca_account_id",
          "alpaca_account_status"
        ],
        "title": "TokenResponse",
        "description": "Token exchange response (legacy - Apple only)."
      },
      "TransactionListResponse": {
        "properties": {
          "transactions": {
            "items": {
              "$ref": "#/components/schemas/LedgerEntry"
            },
            "type": "array",
            "title": "Transactions"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More"
          }
        },
        "type": "object",
        "required": [
          "transactions",
          "total_count",
          "has_more"
        ],
        "title": "TransactionListResponse",
        "description": "Response for transaction list."
      },
      "TransferResponse": {
        "properties": {
          "transfer_id": {
            "type": "string",
            "title": "Transfer Id"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "amount_usd": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Amount Usd"
          },
          "funding_method": {
            "type": "string",
            "title": "Funding Method"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "estimated_arrival": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Arrival"
          }
        },
        "type": "object",
        "required": [
          "transfer_id",
          "type",
          "amount_usd",
          "funding_method",
          "status",
          "created_at"
        ],
        "title": "TransferResponse",
        "description": "Transfer response."
      },
      "UnifiedTokenRequest": {
        "properties": {
          "provider": {
            "$ref": "#/components/schemas/AuthProvider",
            "description": "Authentication provider (apple/google)"
          },
          "identity_token": {
            "type": "string",
            "title": "Identity Token",
            "description": "Provider's identity token (JWT)"
          },
          "user_first_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User First Name"
          },
          "user_last_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Last Name"
          }
        },
        "type": "object",
        "required": [
          "provider",
          "identity_token"
        ],
        "title": "UnifiedTokenRequest",
        "description": "Request to exchange identity token for any provider."
      },
      "UnifiedTokenResponse": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "is_new_user": {
            "type": "boolean",
            "title": "Is New User"
          },
          "was_linked": {
            "type": "boolean",
            "title": "Was Linked",
            "description": "True if account was auto-linked via email",
            "default": false
          },
          "auth_provider": {
            "type": "string",
            "title": "Auth Provider",
            "description": "Provider used for this authentication"
          },
          "linked_providers": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Linked Providers",
            "description": "All auth providers linked to this account"
          },
          "alpaca_account_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alpaca Account Id"
          },
          "alpaca_account_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alpaca Account Status"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "email",
          "name",
          "is_new_user",
          "auth_provider",
          "linked_providers",
          "alpaca_account_id",
          "alpaca_account_status"
        ],
        "title": "UnifiedTokenResponse",
        "description": "Token exchange response with multi-provider support."
      },
      "UpdateAccountConfigRequest": {
        "properties": {
          "dtbp_check": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dtbp Check",
            "description": "Day trade buying power check setting ('entry', 'exit', 'both')"
          },
          "trade_confirm_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trade Confirm Email",
            "description": "Trade confirmation email setting ('all', 'none')"
          },
          "suspend_trade": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Suspend Trade",
            "description": "Whether trading is suspended for the account"
          },
          "no_shorting": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "No Shorting",
            "description": "Whether shorting is disabled for the account"
          },
          "fractional_trading": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fractional Trading",
            "description": "Whether fractional trading is enabled"
          },
          "max_margin_multiplier": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Margin Multiplier",
            "description": "Maximum margin multiplier for the account"
          },
          "pdt_check": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pdt Check",
            "description": "Pattern day trader check setting"
          },
          "ptp_no_exception_entry": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ptp No Exception Entry",
            "description": "PTP no exception entry setting"
          }
        },
        "type": "object",
        "title": "UpdateAccountConfigRequest",
        "description": "Request model for updating account trading configurations."
      },
      "UpdateWatchlistRequest": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "New watchlist name"
          },
          "symbols": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Symbols",
            "description": "New list of symbols (replaces existing)"
          }
        },
        "type": "object",
        "title": "UpdateWatchlistRequest",
        "description": "Request to update a watchlist."
      },
      "UserPreferences": {
        "properties": {
          "default_currency": {
            "type": "string",
            "title": "Default Currency",
            "description": "Preferred display currency",
            "default": "GBP"
          },
          "notifications_enabled": {
            "type": "boolean",
            "title": "Notifications Enabled",
            "description": "Push notifications enabled",
            "default": true
          },
          "email_notifications": {
            "type": "boolean",
            "title": "Email Notifications",
            "description": "Email notifications enabled",
            "default": true
          },
          "dca_notifications": {
            "type": "boolean",
            "title": "Dca Notifications",
            "description": "DCA execution notifications",
            "default": true
          },
          "weekly_summary": {
            "type": "boolean",
            "title": "Weekly Summary",
            "description": "Weekly portfolio summary",
            "default": true
          },
          "theme": {
            "type": "string",
            "title": "Theme",
            "description": "App theme (light/dark/system)",
            "default": "system"
          },
          "biometric_enabled": {
            "type": "boolean",
            "title": "Biometric Enabled",
            "description": "Biometric authentication enabled",
            "default": false
          }
        },
        "type": "object",
        "title": "UserPreferences",
        "description": "User preferences and settings."
      },
      "UserResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "first_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "First Name"
          },
          "last_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Name"
          },
          "picture_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Picture Url"
          },
          "is_verified": {
            "type": "boolean",
            "title": "Is Verified"
          },
          "alpaca_account_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alpaca Account Id"
          },
          "alpaca_account_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alpaca Account Status"
          },
          "family_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Family Id"
          },
          "preferences": {
            "$ref": "#/components/schemas/UserPreferences"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "email",
          "name",
          "first_name",
          "last_name",
          "picture_url",
          "is_verified",
          "alpaca_account_id",
          "alpaca_account_status",
          "family_id",
          "preferences",
          "created_at",
          "updated_at"
        ],
        "title": "UserResponse",
        "description": "Schema for user API response."
      },
      "UserUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "User display name"
          },
          "first_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "First Name",
            "description": "First name"
          },
          "last_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Name",
            "description": "Last name"
          },
          "picture_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Picture Url",
            "description": "Profile picture URL"
          },
          "preferences": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserPreferences"
              },
              {
                "type": "null"
              }
            ],
            "description": "User preferences"
          },
          "device_tokens": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Device Tokens",
            "description": "APNs device tokens"
          }
        },
        "type": "object",
        "title": "UserUpdate",
        "description": "Schema for updating user profile."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "WatchlistListResponse": {
        "properties": {
          "watchlists": {
            "items": {
              "$ref": "#/components/schemas/WatchlistResponse"
            },
            "type": "array",
            "title": "Watchlists"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "default": 0
          }
        },
        "type": "object",
        "title": "WatchlistListResponse",
        "description": "Response for listing watchlists."
      },
      "WatchlistResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Watchlist ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Watchlist name"
          },
          "symbols": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Symbols",
            "description": "List of symbols in the watchlist"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When the watchlist was created"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "When the watchlist was last updated"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "created_at",
          "updated_at"
        ],
        "title": "WatchlistResponse",
        "description": "Response model for a watchlist."
      },
      "WithdrawalRequest": {
        "properties": {
          "amount": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              }
            ],
            "title": "Amount",
            "description": "Amount to withdraw in USD"
          },
          "relationship_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Relationship Id",
            "description": "Bank relationship ID"
          }
        },
        "type": "object",
        "required": [
          "amount"
        ],
        "title": "WithdrawalRequest",
        "description": "Withdrawal request."
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}